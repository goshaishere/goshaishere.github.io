import{c,a as s,h as l,r as D,g as b,B as R,L as P,i as $,e as v,l as z,d as E,ac as I}from"./index.6ae90cfa.js";import{h as g,d as O}from"./dom.aed31342.js";import{j,k as N}from"./QBtn.67a8dbd0.js";import{a as F}from"./axios.37d53be1.js";var X=c({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const a=s(()=>parseInt(e.lines,10)),n=s(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),r=s(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>l("div",{style:r.value,class:n.value},g(t.default))}}),Y=c({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const a=s(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>l("div",{class:a.value},g(t.default))}});const p={dark:{type:Boolean,default:null}};function y(e,t){return s(()=>e.dark===null?t.dark.isActive:e.dark)}var Z=c({name:"QItem",props:{...p,...j,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:a}){const{proxy:{$q:n}}=b(),r=y(e,n),{hasLink:m,linkAttrs:f,linkClass:o,linkTag:u,navigateOnClick:S}=N(),d=D(null),q=D(null),_=s(()=>e.clickable===!0||m.value===!0||e.tag==="label"),h=s(()=>e.disable!==!0&&_.value===!0),x=s(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(m.value===!0&&e.active===null?o.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(h.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),A=s(()=>{if(e.insetLevel===void 0)return null;const i=n.lang.rtl===!0?"Right":"Left";return{["padding"+i]:16+e.insetLevel*56+"px"}});function L(i){h.value===!0&&(q.value!==null&&(i.qKeyEvent!==!0&&document.activeElement===d.value?q.value.focus():document.activeElement===q.value&&d.value.focus()),S(i))}function Q(i){if(h.value===!0&&R(i,[13,32])===!0){P(i),i.qKeyEvent=!0;const B=new MouseEvent("click",i);B.qKeyEvent=!0,d.value.dispatchEvent(B)}a("keyup",i)}function w(){const i=O(t.default,[]);return h.value===!0&&i.unshift(l("div",{class:"q-focus-helper",tabindex:-1,ref:q})),i}return()=>{const i={ref:d,class:x.value,style:A.value,role:"listitem",onClick:L,onKeyup:Q};return h.value===!0?(i.tabindex=e.tabindex||"0",Object.assign(i,f.value)):_.value===!0&&(i["aria-disabled"]="true"),l(u.value,i,w())}}}),ee=c({name:"QList",props:{...p,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const a=b(),n=y(e,a.proxy.$q),r=s(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>l(e.tag,{class:r.value},g(t.default))}});const K={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},k={xs:2,sm:4,md:8,lg:16,xl:24};var te=c({name:"QSeparator",props:{...p,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=b(),a=y(e,t.proxy.$q),n=s(()=>e.vertical===!0?"vertical":"horizontal"),r=s(()=>` q-separator--${n.value}`),m=s(()=>e.inset!==!1?`${r.value}-${K[e.inset]}`:""),f=s(()=>`q-separator${r.value}${m.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(a.value===!0?" q-separator--dark":"")),o=s(()=>{const u={};if(e.size!==void 0&&(u[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const S=e.spaced===!0?`${k.md}px`:e.spaced in k?`${k[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];u[`margin${d[0]}`]=u[`margin${d[1]}`]=S}return u});return()=>l("hr",{class:f.value,style:o.value,"aria-orientation":n.value})}}),ae=c({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const a=s(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>l(e.tag,{class:a.value},g(t.default))}}),ne=c({name:"QCard",props:{...p,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=b(),n=y(e,a),r=s(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>l(e.tag,{class:r.value},g(t.default))}}),se=c({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:a}}=b(),n=$(z,v);if(n===v)return console.error("QPage needs to be a deep child of QLayout"),v;if($(E,v)===v)return console.error("QPage needs to be child of QPageContainer"),v;const m=s(()=>{const o=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const u=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return e.styleFn(o,u)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-o+"px":a.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":a.screen.height-o+"px"}}),f=s(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>l("main",{class:f.value,style:m.value},g(t.default))}});function T(e,t){return F.create({baseURL:e,...t})}class U{constructor(t,a=""){this.baseUrl=t,this.slug=a,this.api=T(`${this.baseUrl}${this.slug}`),this.setInterceptors({beforeRequest:this._beforeRequest,requestError:this._requestError,afterResponse:this._afterResponse,responseError:this._responseError})}setInterceptors({beforeRequest:t,requestError:a,afterResponse:n,responseError:r}){this.api.interceptors.request.use(t,a),this.api.interceptors.response.use(n,r)}_beforeRequest(t){return t}_requestError(t){throw t}_afterResponse(t){return t.data||t}_responseError(t){throw t}}class H extends U{constructor(){super("https://demo.ecm-consulting.ru/js-testing-service/data")}}class J extends H{async getAllDocuments(t){return this.api.post("list",t)}async getOneDocument(t){return this.api.get(`document/${t}`)}async getDescription(){return this.api.get("description")}}const C=new J,ie=I("document",{state:()=>({columnsState:JSON.parse(localStorage.getItem("descriptionColumnsState"))||[],descriptionAll:{},descriptionCurrent:[],documentList:{size:null,offset:null,atributes:[]},documentListPagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:15},currentDocument:{},getAllDocumentsRequest:{attributes:[],order:{attr:"string",asc:!0},size:100,offset:0}}),getters:{getTableRows:e=>e.documentList.atributes,getTableColumns:e=>e.columnsState.filter(t=>t.isActive).map(t=>({name:t.name,field:t.name,label:t.russianName,sortable:!0})),getCurrentDocument:e=>Object.entries(e.currentDocument).map(([t,a])=>({propName:e.descriptionAll[t]||t,propValue:a===null?"-":a}))},actions:{async fetchDescription(){const e=await C.getDescription();this.descriptionAll=e,this.getAllDocumentsRequest.attributes=this.columnsState.length>0?this.columnsState.filter(t=>t.isActive).map(t=>t.name):Object.keys(this.descriptionAll)},async initializeThreeByDescription(){if(this.columnsState.length===0){const e=Object.entries(this.descriptionAll).map(([t,a])=>({name:t,russianName:a,isActive:!0}));this.columnsState=e,localStorage.setItem("descriptionColumnsState",JSON.stringify(e)),this.getAllDocumentsRequest.attributes=Object.keys(this.descriptionAll)}},updateCurrentDescription(e){const a=e.filter(n=>n.isActive).map(n=>n.name);this.columnsState=e,localStorage.setItem("descriptionColumnsState",JSON.stringify(e)),this.getAllDocumentsRequest.attributes=a},async fetchDocumentList(){this.documentList=await C.getAllDocuments(this.getAllDocumentsRequest)},async fetchOneDocument(e){this.currentDocument=await C.getOneDocument(e)},setDocumentListPagination(e){this.documentListPagination=e}}});export{ee as Q,y as a,Y as b,X as c,Z as d,te as e,ie as f,se as g,ne as h,ae as i,p as u};
